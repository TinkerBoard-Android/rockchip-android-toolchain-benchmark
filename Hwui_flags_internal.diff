diff --git a/libs/hwui/Android.bp b/libs/hwui/Android.bp
index ae4eabf94d0..23c95465221 100644
--- a/libs/hwui/Android.bp
+++ b/libs/hwui/Android.bp
@@ -33,8 +33,11 @@ cc_defaults {
         // TODO: Linear blending should be enabled by default, but we are
         // TODO: making it an opt-in while it's a work in progress
         //"-DANDROID_ENABLE_LINEAR_BLENDING",
+        CFLAGS_FOR_BENCH_SUITE
     ],
 
+    ldflags: [LDFLAGS_FOR_BENCH_SUITE],
+
     include_dirs: [
         "external/skia/include/private",
         "external/skia/src/core",
@@ -236,6 +239,9 @@ cc_defaults {
         export_proto_headers: true,
     },
 
+    cflags: [CFLAGS_FOR_BENCH_SUITE],
+    ldflags: [LDFLAGS_FOR_BENCH_SUITE],
+
     export_include_dirs: ["."],
     export_shared_lib_headers: ["libRScpp"],
 }
@@ -350,6 +356,9 @@ cc_benchmark {
     whole_static_libs: ["libhwui"],
     shared_libs: ["libmemunreachable"],
 
+    cflags: [CFLAGS_FOR_BENCH_SUITE],
+    ldflags: [LDFLAGS_FOR_BENCH_SUITE],
+
     srcs: [
         "tests/macrobench/TestSceneRunner.cpp",
         "tests/macrobench/main.cpp",
@@ -367,8 +376,11 @@ cc_benchmark {
     cflags: [
         "-include debug/wrap_gles.h",
         "-DHWUI_NULL_GPU",
+        CFLAGS_FOR_BENCH_SUITE
     ],
 
+    ldflags: [LDFLAGS_FOR_BENCH_SUITE],
+
     whole_static_libs: ["libhwui_static_debug"],
     shared_libs: ["libmemunreachable"],
 
